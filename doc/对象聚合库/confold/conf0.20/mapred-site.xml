<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!-- Put site-specific property overrides in this file. -->

<configuration>
     <property>
         <name>mapred.job.tracker</name>
         <value>jtobjaof.mars.grid.sina.com.cn:9001</value>
         <final>true</final>
     </property>

     <property>
         <name>mapred.system.dir</name>
         <value>/data1/hadoop/tmp/mapred/system/</value>
         <final>true</final>
     </property>

     <property>
         <name>mapred.local.dir</name>
         <value>/data2/hadoop/data/mapred,/data3/hadoop/data/mapred,/data4/hadoop/data/mapred,/data5/hadoop/data/mapred,/data6/hadoop/data/mapred,/data7/hadoop/data/mapred,/data8/hadoop/data/mapred,/data9/hadoop/data/mapred,/data10/hadoop/data/mapred,/data11/hadoop/data/mapred</value>
         <final>true</final>
     </property>

     <property>
         <name>mapred.tasktracker.map.tasks.maximum</name>
         <value>3</value>
         <final>true</final>
     </property>

     <property>
         <name>mapred.tasktracker.reduce.tasks.maximum</name>
         <value>3</value>
         <final>true</final>
     </property>

     <property>
         <name>mapred.map.child.java.opts</name>
         <value>-Xmx1g</value>
     </property>

     <property>
         <name>mapred.reduce.child.java.opts</name>
         <value>-Xmx1g</value>
     </property>

     <property>
          <name>mapred.jobtracker.restart.recover</name>
          <value>true</value>
          <final>true</final>
     </property>

     <property>
          <name>mapred.hosts</name>
          <value>/usr/local/common/hadoop/conf/include</value>
          <final>true</final>
     </property>

     <property>
          <name>mapred.hosts.exclude</name>
          <value>/usr/local/common/hadoop/conf/mrhosts.deny</value>
          <final>true</final>
     </property>

     <property>
          <name>mapred.jobtracker.taskScheduler</name>
          <value>org.apache.hadoop.mapred.FairScheduler</value>
     </property>

     <property>  
          <name>mapred.compress.map.output</name>  
          <value>true</value>  
     </property> 

     <property>  
          <name>mapreduce.map.output.compress.codec</name>  
          <value>org.apache.hadoop.io.compress.SnappyCodec</value>
     </property>  

     <property>
          <name>mapred.reduce.slowstart.completed.maps</name>
          <value>0.95</value>
     </property>
        <property>
          <name>mapred.max.tracker.blacklists</name>
          <value>13</value>
     </property>
     <property>
        <name>mapred.job.reuse.jvm.num.tasks</name>
        <value>20</value>
     </property>
     <property>
        <name>mapreduce.jobtracker.staging.root.dir</name>
        <value>/user</value>
     </property>

     <property>
        <name>mapred.jobtracker.taskScheduler</name>
        <value>org.apache.hadoop.mapred.FairScheduler</value>
     </property>
     <property>
        <name>mapred.fairscheduler.allocation.file</name>
        <value>/usr/local/common/hadoop/conf/fair-scheduler.xml</value>
     </property>
   <property>
      <name>mapred.fairscheduler.preemption</name>
      <value>true</value>
   </property>

   <property>
      <name>mapred.fairscheduler.assignmultiple</name>
      <value>true</value>
   </property>

   <property>
      <name>mapred.fairscheduler.poolnameproperty</name>
      <value>mapred.queue.name</value>
      <description>job.set("mapred.queue.name",pool); // pool is set to either 'high' or 'low' </description>
   </property>

   <property>
      <name>mapred.fairscheduler.preemption.only.log</name>
      <value>true</value>
   </property>

   <property>
      <name>mapred.fairscheduler.preemption.interval</name>
      <value>15000</value>
   </property>
                   
   <property>
      <name>mapred.queue.names</name>
      <value>default,prod,adhoc</value>
   </property>

<!-- For hue   -->
  <property>
    <name>jobtracker.thrift.address</name>
    <value>0.0.0.0:9290</value>
  </property>
  <property>
    <name>mapred.jobtracker.plugins</name>
    <value>org.apache.hadoop.thriftfs.ThriftJobTrackerPlugin</value>
    <description>Comma-separated list of jobtracker plug-ins to be activated.</description>
  </property>

</configuration>
